{% extends "layout.html" %}
{% from "macros.html" import render_thumbnail %}
{% block titletags -%}
  <title>{% block title %}{{ config['SITE_TITLE'] }}{% endblock %}</title>
  <meta name="DC.title" content="{{ config['SITE_TITLE'] }}"/>
{%- endblock %}

{% block headerbox -%}
<header id="home-header">
  {% block networkbar %}{{ networkbar(siteid=config['SITE_ID'], login=config['LASTUSER_CLIENT_ID'] and true or false) }}{% endblock %}
  
</header>
{%- endblock %}
{% block main -%}
  <div class="home-grey-bg">
    {% block basecontent %}
      {% block content %}
        <div class="container">
          <div class="row">
            <div class="span2">
              <div class="sidebar">
                <a href="{{ url_for('index') }}" title="Home"><img id="logo-home" src="{{url_for('static', filename='img/logo-large.png')}}"></a>
                
                <ul class="nav nav-tabs nav-stacked">
                  <ul class="nav nav-list section">
                    <!--<li class="tab-pane active">
                    <a href="#paneA" data-toggle="tab">
                      Home
                    </a>
                    </li>
                    <li class="tab-pane">
                      <a href="#paneB" data-toggle="tab">Live stream 
                      </a>
                    </li>-->
                    <li class="nav-header">Featured Playlists</li>
                    {%- for playlist in playlists -%}
                      <li class="tab-pane"><a href="#pane{{ loop.index|string }}" data-toggle="tab" title="{{ playlist.title }}">{{ playlist.title }}</a></li>
                    {% else %}
                      <p>No playlist available</p>
                    {%- endfor -%}
                  </ul>
                </ul>
              </div>
            </div>
            <div class="span10">
              <div class="tab-content">
                <div id="paneA" class="tab-pane active">
                  <img id="home-video-placeholder" src="{{url_for('static', filename='home-video.png')}}">
                  <!--<video autoplay="yes" loop="loop">
                    <source src="{{url_for('static', filename='video.webm')}}" type="video/webm">
                    <source src="{{url_for('static', filename='video.mp4')}}" type="video/mp4">
                    
                    Your browser doesn't support HTML5 video.
                  </video>-->

                  <div class="video-caption">
                    <p>Explore</p>
                    <p>Videos from</p>
                    <p>HasGeek events</p>
                  </div>
                  
                </div>
                <!--<div id="paneB" class="tab-pane">
                  <video controls="controls">
                    <source src="{{url_for('static', filename='video1.ogg')}}" type="video/ogg">
                    Your browser doesn't support HTML5 video.
                  </video>
                  <div class="video-live-caption">
                    <p><span id="blink">Live</span>  from  <a href="">MetaRefresh</a></p>
                  </div>
                </div>-->
                {%- for playlist in playlists -%}
                  <div id="pane{{ loop.index|string }}" class="tab-pane">
                    {% if playlist.videos -%}
                      <div class="home-playlist-title">{{ playlist.title }}</div>
                        <ul class="playlist thumbnails home-playlist row">
                          {%- for video in playlist.videos[:8] -%}
                            <li class="span2">
                              <a href="{{ video.url_for() }}">
                                
                                {{ render_thumbnail(video.thumbnail_path) }}
                                {{ video.title }}
                              </a>
                            </li>
                          {%- endfor -%}
                        </ul>
                        <a class="btn explore-btn" href="{{ playlist.url_for() }}">Explore {{ playlist.title }}&nbsp;&nbsp;<i class="icon-play-circle"></i></a>
                    {%- endif %}
                  </div>
                {%- endfor -%}
              </div>
            </div>
            
          </div>
        </div>
      {% endblock %}
    {% endblock %}
  </div>
{%- endblock %}

{% block footer %}
  <div class="color-band"><!-- --></div>
  HasGeek TV copyright &copy; 2010-2012 HasGeek Media LLP. Video and slides copyright by respective owners.
{% endblock %}
